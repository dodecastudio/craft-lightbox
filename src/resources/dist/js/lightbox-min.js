"use strict";function _toConsumableArray(t){return _arrayWithoutHoles(t)||_iterableToArray(t)||_unsupportedIterableToArray(t)||_nonIterableSpread()}function _arrayWithoutHoles(t){if(Array.isArray(t))return _arrayLikeToArray(t)}function _iterableToArray(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);return"Object"===n&&t.constructor&&(n=t.constructor.name),"Map"===n||"Set"===n?Array.from(t):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function _nonIterableSpread(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var focusableElements=function(t){return t.querySelectorAll('a[href], area[href], input:not([disabled]), select:not([disabled]), textarea:not([disabled]), button:not([disabled]), [tabindex="0"]')},focusFirstDescendant=function t(e,n){for(var r=0;r<e.childNodes.length;r++){var a=e.childNodes[r];if(attemptFocus(a)||t(a))return!0}return!(!n||!attemptFocus(n))},attemptFocus=function(t){if(!isFocusable(t))return!1;try{t.focus()}catch(t){return!1}return document.activeElement===t},isFocusable=function(t){if(t.tabIndex<0)return!1;if(t.disabled)return!1;switch(t.nodeName){case"A":return!!t.href&&"ignore"!=t.rel;case"INPUT":return"hidden"!=t.type;case"BUTTON":case"SELECT":case"TEXTAREA":case"AREA":return!0;default:return!1}},addMultiple=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=""!=n?n.split(" "):[];r.length>0&&(e=t.classList).add.apply(e,_toConsumableArray(r))},removeMultiple=function(t){var e,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",r=""!=n?n.split(" "):[];r.length>0&&(e=t.classList).remove.apply(e,_toConsumableArray(r))},initLightbox=function(t){var e=t.cssClasses,n=t.identifier,r=t.launchLightboxCssClass,a=t.translations,o=document.querySelector("body"),i=document.getElementById("".concat(n,"-modal")),c=document.getElementById("".concat(n,"-container")),s=document.getElementById("".concat(n,"-frame")),l=document.getElementById("".concat(n,"-control-previous")),u=document.getElementById("".concat(n,"-control-next")),d=document.getElementById("".concat(n,"-control-close")),y=document.getElementById("".concat(n,"-info-caption")),m=document.getElementById("".concat(n,"-info-total")),f=document.querySelectorAll(".".concat(r)),p={},h={timing:250,currentGallery:"default",current:-1,open:!1,touch:{startPos:0,lastPos:0,direction:0,moveThreshold:50},lastKeyboardControl:!1,isTouchDevice:"ontouchstart"in window,supportedResponsiveMimeTypes:["image/jpeg","image/png","image/tiff","image/webp"]},g=function(){window.initialFocus&&window.initialFocus.focus(),i.style.display="none",i.setAttribute("aria-label",a.LABEL),i.setAttribute("aria-hidden",!0),o.classList.remove(e.disableScroll),removeMultiple(o,e.disableScrollClasses),h.current=-1,h.open=!1,m.style.display="none",m.innerText="",y.style.display="none",s.innerHTML="",s.classList.remove("".concat(e.lightboxContent,"--loading")),h.lastKeyboardControl=!1},b=function(){h.touch.direction=-1,T(h.current-(L()?1:0))},v=function(){h.touch.direction=1,T(h.current+(E()?1:0))},L=function(){return h.current>0},E=function(){return h.current<p[h.currentGallery].images.length-1},A=function(){l.style.setProperty("display","none"),u.style.setProperty("display","none")},I=function(){l.style.removeProperty("display"),u.style.removeProperty("display")},T=function(t){var n=p[h.currentGallery].images.length;t>=0&&t<=n-1&&n>0&&(h.open||function(){var t=p[h.currentGallery].images.length,n=p[h.currentGallery].title,r=1==t?a.UNTITLED_DYNAMIC_LABEL_s:a.UNTITLED_DYNAMIC_LABEL_p;"untitled"!==n&&(r=1==t?a.DYNAMIC_LABEL_s:a.DYNAMIC_LABEL_p),r=(r=r.replace("{total}",t)).replace("{title}",n),i.setAttribute("aria-label",r),i.style.display="flex",i.setAttribute("aria-hidden",!1),o.classList.add(e.disableScroll),addMultiple(o,e.disableScrollClasses),h.open=!0,c.focus(),focusFirstDescendant(c,d)}(),h.current!==t&&(h.current=t,L()||E()?(I(),L()?(l.classList.remove("visibility-hidden"),l.disabled=!1):(l.classList.add("visibility-hidden"),l.disabled=!0),E()?(u.classList.remove("visibility-hidden"),u.disabled=!1):(u.classList.add("visibility-hidden"),u.disabled=!0)):A(),"right"===h.lastKeyboardControl&&(u.disabled?i.focus():u.focus()),"left"===h.lastKeyboardControl&&(l.disabled?i.focus():l.focus()),_(),window.setTimeout((function(){w();var n=function(t){var n=p[h.currentGallery].images[t],r=n.mimetype,o=n.srcsetImages,i=n.srcsetImagesWebp,c=n.title,s=n.url,l=h.supportedResponsiveMimeTypes.includes(r),u=o.length>0;if(l&&u){var d=o.length>0?'\n      <source\n        type="'.concat(r,'"\n        srcset="').concat(o.map((function(t){return"".concat(t,",")})),'" />'):"",y=i.length>0?'\n      <source\n        type="image/webp"\n        srcset="'.concat(i.map((function(t){return"".concat(t,",")})),'" />'):"";return'\n        <picture class="'.concat(e.lightboxPicture,'">\n          ').concat(d,"\n          ").concat(y,'\n          <img\n            alt=""\n            class="').concat(e.lightboxImage,'"\n            loading="lazy"\n            src="').concat(o[0],'" />\n        </picture>\n      ')}if(r.indexOf("image")<0){var m=r.substring(r.lastIndexOf("/")+1);return'<p style="text-align: center;">'.concat(a.UNSUPPORTED_FILETYPE.replace("{ext}",m),'<br/><a href="').concat(s,'" target="_blank">').concat(c,"</a><br/>").concat(s.substring(s.lastIndexOf("/")+1),"</p>")}return'\n      <img\n        alt=""\n        class="'.concat(e.lightboxImage,'"\n        loading="lazy"\n        src="').concat(s,'" />\n    ')}(t),r=p[h.currentGallery].images[t].averageColor;if(s.innerHTML=n,r){var o=r.replace(/[^\d,]/g,"").split(",");i.style.backgroundColor="hsla(".concat(o[0],",").concat(o[1],"%,").concat(.5*o[2],"%,0.95)")}var c=s.querySelector("img");c&&(s.classList.add(e.lightboxImageLoading),c.onload=function(){s.classList.remove(e.lightboxImageLoading)}),function(t){var n=p[h.currentGallery].images.length,r=p[h.currentGallery].images[h.current].title,a=h.current+1;i.dataset.showcounter&&(m.style.removeProperty("display"),m.innerHTML='<span class="'.concat(e.screenReaderOnly," ").concat(e.screenReaderOnlyClasses,'">Image ').concat(a," of ").concat(n,'.</span><span aria-hidden="true">').concat(a,"/").concat(n,"</span>")),i.dataset.showcaptions?(y.style.removeProperty("display"),y.innerHTML=r):t.setAttribute("alt",r)}(c)}),h.timing)))},w=function(){C(0),P()},C=function(t){s.style.transform="translate3d(".concat(t,", 0, 0)")},_=function(){var t=h.touch.direction>0?"-200%":h.touch.direction<0?"200%":0;s.style.transform="translate3d(".concat(t,", 0, 0)"),s.style.transitionDuration="".concat(h.timing,"ms"),s.style.transitionProperty="transform"},P=function(){s.style.transitionDuration="0ms",s.style.transform="transform: translate3d(0, 0, 0)"};f.length>0&&(f.forEach((function(t){var e=t.dataset.gallery?t.dataset.gallery:"default";if(void 0===p[e]){var n=document.getElementById(e),r=n&&n.dataset.title?n.dataset.title:"untitled";p[e]={ref:e,title:r,images:[]}}var a=t.dataset,o=a.averagecolor,i=void 0===o?null:o,c=a.mimetype,s=a.orientation,l=a.ref,u=void 0===l?null:l,d=a.srcset,y=void 0===d?"":d,m=a.srcsetwebp,f=void 0===m?"":m,g=a.title,b=a.url;p[e].images.push({url:b,title:g,orientation:s,srcsetImages:y.split(","),srcsetImagesWebp:f.split(","),mimetype:c,ref:u,gallery:e,averageColor:i});var v=p[e].images.length-1;t.addEventListener("click",(function(t){t.preventDefault(),h.currentGallery=e,T(v),window.initialFocus=t.currentTarget}))})),window.addEventListener("keydown",(function(t){if(h.open){var e=focusableElements(i),n=e[0],r=e[1],a=e[e.length-1],o=e[e.length-2];"Tab"===t.key&&(1===e.length&&t.preventDefault(),t.shiftKey?(document.activeElement===n||n.disabled&&document.activeElement===r||n.disabled&&document.activeElement===i)&&(t.preventDefault(),a.disabled?o.focus():a.focus()):((document.activeElement===a||a.disabled&&document.activeElement===o||a.disabled&&document.activeElement===i)&&(t.preventDefault(),n.disabled?r.focus():n.focus()),n.disabled&&a.disabled&&(t.preventDefault(),d.focus()))),32!==t.keyCode&&"Enter"!==t.key||(document.activeElement===l&&(h.lastKeyboardControl="ArrowLeft"),document.activeElement===u&&(h.lastKeyboardControl="ArrowRight")),"Escape"===t.key&&g(),"ArrowLeft"===t.key&&(h.lastKeyboardControl="ArrowLeft",b()),"ArrowRight"===t.key&&(h.lastKeyboardControl="ArrowRight",v())}})),i.addEventListener("click",(function(t){t.target.id!=="".concat(n,"-modal")&&t.target.id!=="".concat(n,"-frame")||(t.preventDefault(),g())})),l.addEventListener("click",(function(t){t.preventDefault(),b()})),u.addEventListener("click",(function(t){t.preventDefault(),v()})),d.addEventListener("click",(function(t){t.preventDefault(),g()})),s.addEventListener("touchmove",(function(t){h.touch.lastPos>h.touch.startPos?h.touch.direction=-1:h.touch.direction=1,h.touch.direction<0&&!E()&&C(t.touches[0].clientX-h.touch.startPos),h.touch.direction>0&&!L()&&C(t.touches[0].clientX-h.touch.startPos),L()&&E()&&C(t.touches[0].clientX-h.touch.startPos),h.touch.lastPos=t.touches[0].clientX}),{passive:!0}),s.addEventListener("touchstart",(function(t){h.touch.startPos=t.touches[0].clientX,h.touch.direction=0,P()}),{passive:!0}),s.addEventListener("touchend",(function(){h.touch.lastPos-h.touch.startPos>h.touch.moveThreshold&&(L()?b():C(0)),h.touch.lastPos-h.touch.startPos<-h.touch.moveThreshold&&(E()?v():C(0))}),{passive:!0}))};window.initLightbox=initLightbox;